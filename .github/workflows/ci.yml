name: heroku/heroku-buildpack-go/ci
on:
  push:
jobs:
  test-heroku:
    runs-on: sfdc-hk-ubuntu-latest
    container:
      image: heroku/heroku:${{ matrix.stack-version }}-build
    strategy:
      matrix:
        stack-version:
        - '18'
        - '20'
        - '22'
    steps:
    - uses: actions/checkout@v2
    - name: Fetch test assets
      run: make test-assets
    - name: Run shunit2 tests
      run: test/run.sh
